---
title: Java基本语言特性-面向对象编程
date: 
updated:
tags: [类]
categories: Java
comments: true
---

********************************************************************************
## 1.封装、继承与多态
众所周知的，封装、继承、多态是面向对象编程的三大特征，支持面向对象编程的计算机语言都提供了相应的支持机制。
### 1.1 封装
所谓的**封装(Encapsulation)**，是指利用抽象数据类型将数据和对数据的操作封装在一起，使其形成一个不可分割的独立实体。通过封装将数据隐藏起来，并提供特定访问权限的接口来对其进行访问。这样来讲的话，封装的基本内容应该分为两个：**抽象**和**访问权限**。抽象就是将问题的本质进行提取，在编程中将其表示成**类**；对类内部变量和方法的访问权限的定义实现了对数据和操作过程的隐藏，保证了数据的安全性。访问的权限是通过`public`、`protected`、`private`等关键字来进行标识的。
### 1.2 继承
**继承(Inheritance)**描述的是类与类之间的关系，可以理解为一个类从另一个类获取成员变量和成员函数的过程。被继承的类称为*父类* 或*基类* ，继承的类称为*子类* 或*派生类*。继承给我们带来的好处是对原有类的重用，除此之外我们还可以通过**组合**实现对代码的重用。两者的区别是继承描述的是**is-a**的关系，组合描述的是**has-a**或**use-a**的关系。
### 1.3 多态
**多态(Polymorphism)**，从字面上来理解就是一个事物有多种形态，或者说多种表现方式。在编程中我们可以将其理解为相同名字的函数可以完成不同的功能或任务。
#### 实现多态的三个必要条件
- **继承**：在多态中必须存在继承关系的父类和子类；
- **重写**：子类对父类中的方法进行了重新定义，在调用这些同名、同参方法时实现的就是子类的功能；
- **向上转型**：即将子类的引用赋值给父类对象，这样引用才具备调用父类方法和子类方法的能力。

#### 程序绑定
绑定，指的是一个方法的调用与方法所在的类或对象关联起来。绑定分为**静态绑定**和**动态绑定**，或者叫做前期绑定和后期绑定。
- **静态绑定**
  > 程序在执行前，方法已经被绑定，发正在编译期，绑定的是**类信息，即定义的类的类型**。在Java中，**所有的变量都是静态绑定**，除此之外只有**final，static，private，重载方法和构造方法是静态绑定**。
- **动态绑定**
  > 在运行时根据具体的对象类型进行绑定，发生在运行期，绑定的是**对象信息**。在Java中，**重写方法**是动态绑定的。
  > 动态绑定的过程：虚拟机提取对象实际类型的方法表；虚拟机搜索方法签名；调用方法。

**NOTE：**
> 特别说明的是，private声明的方法和变量不能被子类继承，所有的private方法都被隐式的指定为final，所以是静态绑定。

********************************************************************************
## 2.类
类是对一系列对象的抽象，绝大多数面向对象编程的语言都使用`class`来定义类。
### 2.1 访问权限控制
所谓的**访问权限控制**，指的是本类以及本类内部的成员（成员变量、成员方法、内部类等）对于其他类的可见性，即这些内容是否允许其他类访问。Java中有四种访问权限控制：`public`、`protected`、`default(包访问权限)`、`private`。权限允许访问的具体内容如下：  
![Java访问控制权限](resources/images/jave-access-modifier.png)  
**NOTE:**
> - 当某个成员能够被所有子类继承，但是不能被不同包的非子类访问，就使用protected。
> - 当某个成员的访问权限支队同一个包的类开放，包括不能让不同包的子类继承，就使用default。

#### 访问权限控制的使用场景
a. **外部类的访问控制**
  外部类（外部接口）是相对与内部类、内部接口而言的，外部类的访问控制有两种：`public`和`default`。
b. **类成员的访问控制**
  类的成员分为三类：成员变量、成员方法、内类（内部接口），可以使用所有的访问控制权限。
c. **抽象方法的访问权限**
  普通的成员方法可以使用四种访问权限，但是抽象方法**不能用private修饰**，否则子类就无法继承实现。
d. **接口成员的访问控制**
  由于接口的特殊性，所有成员的访问权限都是默认规定死的，接口成员的访问呢权限为：
  > 成员变量：public static final
  > 成员方法：public static
  > 抽象方法：public abstract
  > 内部内、内部接口：public static
e. **构造函数的访问权限**
  构造函数的访问权限可以是四种访问权限的任意一种。

### 2.2 类的属性和方法
类最基本的要素就是属性和方法。属性也被称为字段，表示的是数据，是类的重要组成部分。属性可以是任意类型的对象，也可以是基本数据类型。类中还应该包括方法，表示对数据的操作，也就是函数。
#### 方法的修饰符
Java方法的修饰符是可选的，它告诉编译器如何调用该方法。我们可以通过使用修饰符来定义方法的访问类型，常用的修饰符包括：
 - 访问控制修饰符
 - static
 - final
 - abstract
 - synchronized

**static关键字**  
被`static`修饰的方法称为静态方法，也叫作类方法。静态方法常用于工具类、工厂方法类。相较于普通的成员方法（即实例方法），主要有以下区别：
- 因为静态方法属于类而不属于某个特定的实例化对象，所以既可以使用`类名.方法名`的方式调用，也可以使用`对象名.方法名`的方式调用。普通的成员方法只能通过对象来进行调用。
- 静态方法只能访问静态成员（即静态方法和静态成员变量），而不允许访问实例成员变量和实例方法，不能以任何形式引用`this`和`super`。这是因为静态方法可以通过类名进行调用，如果没有实例化，也就意味着实例成员没有被初始化，访问未初始化的成员是危险且不合法的。

此外，static修饰的成员变量在定义时必须要进行初始化，且初始化时间要早于非静态成员变量。无论变量还是方法，只要用static修饰，就意味着在类被加载时就可以使用。如果没有static修饰，则必须要依赖实例对象进行调用。

**final关键字**
被`final`修饰的方法不能被子类覆写(Override)。除了修饰方法外，`final`还可以修饰：
- **成员变量**：成员变量初始化后不能被修改；
- **类**：表明该类是最终类，不允许被继承；
- **函数参数**：若函数的参数被final修饰，表示该参数不可被修改。

**abstract关键字**  
被`abstract`修饰的方法称为抽象方法，方法不能有实体，只能在子类中予以实现。抽象方法只能出现在抽象类中。abstract不能和final或static同时用来修饰同一个函数，因为它们的功能有冲突。  

**synchronized关键字**  
`synchronized`用于并发编程，被synchronized修饰的方法在一个时刻只允许一个线程执行。在Java的同步容器中，用到了大量的synchronized方法，但是在Java并发编程中synchronized方法并不是一个好的选择，通常我们会选择更加轻量级的锁。

#### 方法的重载与覆写
**覆写(Override)**是指子类重新定义了父类中同名的方法，发生在不同的类中；**重载(Overload)**是指方法名相同，但是参数的类型或参数的个数不同，通过传递参数个数及类型的不同可以完成不同功能的方法调用。  
**NOTE：**
> - 子类覆写的方法的访问权限不能比父类小，且不能为private。
> - 子类覆写的方法中如果要访问父类的方法，可以使用`super`关键字。
> - 重载一定是方法的参数不完全相同。如果方法名和参数相同，仅返回值不同，Java无法通过编译。

### 2.3 类的特殊方法
Java中有些较为特殊的方法，分别用于特殊的场景。这些特殊的方法包括：
 - main方法
 - 构造方法
 - 变参方法
 - finalize()方法

#### main方法
// TODO
#### 构造方法
// TODO
#### 变参方法
// TODO
#### finalize方法
// TODO
## 参考文献 & 资源链接
- [深入理解Java方法](https://juejin.im/post/5c8d189fe51d455b9c2b6739#heading-17)